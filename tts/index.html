<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Text to Speech</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <main class="app">
      <header>
        <h1><span>Text to Speech</span></h1>
        <p class="tagline">
          Everything runs locally in your browser using WebAssembly.
        </p>
      </header>

      <section class="status-card">
        <p id="status" role="status">Preparing the TTS engine…</p>
      </section>

      <section class="card" aria-live="polite">
        <form id="ttsForm">
          <label class="field" for="textInput">
            <span>Text to synthesize</span>
            <textarea id="textInput" rows="6" placeholder="Type something friendly and click Synthesize" required></textarea>
          </label>

          <div class="controls">
            <label class="field inline" id="languageWrapper" for="languageSelect" hidden>
              <span>Language</span>
              <select id="languageSelect"></select>
            </label>

            <label class="field inline" id="voiceWrapper" for="voiceSelect" hidden>
              <span id="voiceLabel">Voice</span>
              <select id="voiceSelect"></select>
            </label>

            <label class="field inline" for="speedInput">
              <span>Speed <small id="speedValue">1.0×</small></span>
              <input type="range" id="speedInput" min="0.4" max="3.5" step="0.1" value="1.0" />
            </label>
          </div>

          <p id="voiceDetails" class="voice-details" hidden></p>

          <div class="actions">
            <button type="submit" id="synthesizeBtn" disabled>
              <span class="default">Synthesize</span>
              <span class="loading" hidden>Generating…</span>
            </button>
          </div>
        </form>
      </section>

      <section class="card output">
        <header class="output__header">
          <h2>Generated clips</h2>
          <p class="output__hint">Each result stays on-device. Refresh to clear the list.</p>
        </header>
        <div id="clips"></div>
      </section>
    </main>

    <footer class="footer">
      <p>
        Models &amp; runtime provided by
        <a href="https://github.com/k2-fsa/sherpa-onnx" target="_blank" rel="noreferrer">sherpa-onnx</a>.
      </p>
      <p>Created By <a href="https://github.com/Arty-Facts">Arty-Facts</a> • <a href="https://github.com/Arty-Facts/Arty-Facts.github.io">Source</a></p>
    </footer>

    <script src="./main.js" defer></script>
    <script src="./vendor/sherpa-onnx-tts.js" defer></script>
    <script src="./vendor/sherpa-onnx-wasm-main-tts.js" defer></script>
  </body>
</html>
